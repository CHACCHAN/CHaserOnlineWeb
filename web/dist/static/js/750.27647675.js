"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[750],{8684:function(e,t,a){a.r(t),a.d(t,{default:function(){return Oe}});a(4114);var s=a(6768),l=a(5130),n=a(4232),r=a.p+"static/img/CHaserOnline.d5a5bd04.jpg",o=a.p+"static/media/CHaserOnline.26bc5a85.mp4",i=a(144),d=a(973),c=a(8704);async function u(e){return new Promise(((t,a)=>{const s=document.querySelector(`script[src="${e}"]`);s&&(console.log(`Removing existing script: ${e}`),s.remove());const l=document.createElement("script");l.src=e,l.type="text/javascript",l.onload=()=>{console.log(`Loaded script: ${e}`),t(l)},l.onerror=t=>{console.error(`Failed to load script: ${e}`,t),a(new Error(`Failed to load script: ${e}`))},document.head.appendChild(l),console.log(`Appending script: ${e}`)}))}async function v(){await u("http://localhost:8080/api/chaseronline/js/GetReady.js"),await u("http://localhost:8080/api/chaseronline/js/Action.js");const e=window.GetReady,t=window.Action;return{GetReady:e,Action:t}}class h{constructor(e){this._url=e?.url,this._proxy=e?.proxy,this._debug=e?.debug,this._user=e?.user,this._password=e?.password,this._room=e?.room,this._returnNumber=new Array,this._ActionReturnNumber=new Array,this._gameSet=!0}async connect(){const e=await fetch("http://localhost:8080/api/chaseronline/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:this._url,proxy:this._proxy,debug:this._debug,user:this._user,password:this._password,room:this._room})}).then((e=>e.json()));return e}async getready(){const{GetReady:e}=await v(),t=e(this._returnNumber,this._ActionReturnNumber);return await fetch("http://localhost:8080/api/chaseronline/getready",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({GetReadyMode:t})}).then((e=>e.json())).then((e=>this._returnNumber=e)),console.log(this._returnNumber),{returnNumber:this._returnNumber,command:t}}async action(){const{Action:e}=await v(),t=e(this._returnNumber,this._ActionReturnNumber);return await fetch("http://localhost:8080/api/chaseronline/action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:t})}).then((e=>e.json())).then((e=>this._ActionReturnNumber=e)),console.log(this._ActionReturnNumber),{returnNumber:this._ActionReturnNumber,command:t}}async gameSet(){return await fetch("http://localhost:8080/api/chaseronline/gameset").then((e=>e.json())).then((e=>this._gameSet=e)),console.log(this._gameSet),this._gameSet}}const m={class:"backgroundDarkBlue",style:{height:"100vh"}},p={key:0},g=(0,s.Lk)("header",{class:"text-light px-3 d-flex align-items-center justify-content-start"},[(0,s.Lk)("img",{src:r,width:"30",height:"30",class:"rounded-circle"}),(0,s.Lk)("div",{class:"fs-4 ms-2"},"CHaserOnline Web")],-1),b={class:"p-3"},k={class:"row"},w={class:"col-12 col-md-7 mb-1"},x=(0,s.Lk)("div",{class:"text-success fw-bold d-flex align-items-center"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-cpu",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"})]),(0,s.Lk)("div",{class:"ms-1"},"マップレンダリング")],-1),L=(0,s.Lk)("div",{class:"border border-success rounded-bottom text-light mb-2"},[(0,s.Lk)("div",{class:"text-danger"},"現在は開発途中のため未実装です"),(0,s.Lk)("div",{class:"text-danger"},"ここでは、クライアントのアイテム取得をもとにマップを描画するための機能になります")],-1),f={class:"card card-body text-bg-dark"},y={class:"row"},C={class:"col-6 col-md-3"},A=(0,s.Lk)("label",{for:"inputRoom",class:"d-flex align-items-center"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right-circle-fill",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})]),(0,s.Lk)("div",{class:"ms-1"},"ルーム番号")],-1),_={class:"border border-secondary rounded"},M=["onClick"],z=["onClick"],H={class:"col-6 col-md-3"},R=(0,s.Lk)("div",{class:"d-flex align-items-center"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right-circle-fill",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})]),(0,s.Lk)("div",{class:"ms-1"},"ログイン中")],-1),E={class:"border border-secondary rounded p-1 d-flex align-items-center text-truncate mb-2"},j=(0,s.Lk)("div",{class:"text-secondary"},"username :",-1),B={class:"text-light ms-1"},S=(0,s.Lk)("div",{class:"d-flex align-items-center"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right-circle-fill",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})]),(0,s.Lk)("div",{class:"ms-1"},"他ユーザ")],-1),N={class:"border border-secondary rounded p-1 text-truncate"},V=["onMouseleave"],O=["id","onClick"],X=(0,s.Lk)("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"},null,-1),T=[X],U=["onMouseenter"],K={key:0},$={class:"col-12 col-md-6"},P=(0,s.Lk)("div",{class:"d-flex align-items-center mb-2"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right-circle-fill",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})]),(0,s.Lk)("div",{class:"ms-1"},"ツールバー")],-1),I={class:"row"},F={class:"col-2 text-center"},Z={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-gear-fill rotation",style:{cursor:"pointer"},viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#settingModal"},G=(0,s.Lk)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"},null,-1),J=[G],D=(0,s.Lk)("div",{class:"text-secondary fw-bold dropdown-toggle",style:{"font-size":"12px"}},"設定",-1),Q=(0,s.Lk)("div",{class:"col-2 text-center"},[(0,s.Lk)("a",{href:"#",class:"text-light",onclick:"window.open('/editor', '_blank', 'width=800,height=600'); return false;"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-file-code rotation",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M6.646 5.646a.5.5 0 1 1 .708.708L5.707 8l1.647 1.646a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2zm2.708 0a.5.5 0 1 0-.708.708L10.293 8 8.646 9.646a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2z"}),(0,s.Lk)("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"})])]),(0,s.Lk)("div",{class:"text-secondary fw-bold dropdown-toggle",style:{"font-size":"12px"}},"エディタ")],-1),W={key:0,class:"col-2 text-center"},q={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-plugin rotation",style:{cursor:"pointer"},viewBox:"0 0 16 16"},Y=(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 1 2.898 5.673c-.167-.121-.216-.406-.002-.62l1.8-1.8a3.5 3.5 0 0 0 4.572-.328l1.414-1.415a.5.5 0 0 0 0-.707l-.707-.707 1.559-1.563a.5.5 0 1 0-.708-.706l-1.559 1.562-1.414-1.414 1.56-1.562a.5.5 0 1 0-.707-.706l-1.56 1.56-.707-.706a.5.5 0 0 0-.707 0L5.318 5.975a3.5 3.5 0 0 0-.328 4.571l-1.8 1.8c-.58.58-.62 1.6.121 2.137A8 8 0 1 0 0 8a.5.5 0 0 0 1 0Z"},null,-1),ee=[Y],te=(0,s.Lk)("div",{class:"text-success fw-bold",style:{"font-size":"12px"}},"実行",-1),ae={key:1,class:"col-2 text-center"},se={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-power rotation",style:{cursor:"pointer"},viewBox:"0 0 16 16"},le=(0,s.Lk)("path",{d:"M7.5 1v7h1V1h-1z"},null,-1),ne=(0,s.Lk)("path",{d:"M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z"},null,-1),re=[le,ne],oe=(0,s.Lk)("div",{class:"text-danger fw-bold",style:{"font-size":"12px"}},"停止",-1),ie={class:"col-2 text-center"},de=(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-people-fill rotation",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"})],-1),ce=(0,s.Lk)("div",{class:"text-secondary fw-bold",style:{"font-size":"12px"}},"ユーザ切替",-1),ue={class:"modal",id:"settingModal",tabindex:"-1","aria-labelledby":"settingModalLabel","aria-hidden":"true"},ve={class:"modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable"},he={class:"modal-content modal-body backgroundDarkBlue"},me=(0,s.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear-fill",viewBox:"0 0 16 16","data-bs-toggle":"modal"},[(0,s.Lk)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})]),(0,s.Lk)("div",{class:"ms-2"},"設定")],-1),pe=(0,s.Lk)("label",{for:"inputServerURL"},"CHaserOnlineServerURL",-1),ge=(0,s.Lk)("label",{for:"inputProxy"},"ProxyAddress",-1),be={class:"text-end"},ke={key:1,class:"btn btn-success p-1 disabled",type:"button",disabled:""},we=(0,s.Lk)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),xe={class:"col-12 col-md-5"},Le={class:"row"},fe={class:"col-12 mb-1"},ye=(0,s.Lk)("div",{class:"text-light fw-bold d-flex align-items-center"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-terminal",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9zM3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2z"}),(0,s.Lk)("path",{d:"M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h12z"})]),(0,s.Lk)("div",{class:"ms-1"},"実行コマンド")],-1),Ce=(0,s.Lk)("div",{class:"card card-body p-1 text-bg-dark"},[(0,s.Lk)("div",{class:"row"},[(0,s.Lk)("div",{class:"col-3 col-md-2"},[(0,s.Lk)("video",{class:"rounded",width:"100%",autoplay:"",muted:"",loop:""},[(0,s.Lk)("source",{src:o})])]),(0,s.Lk)("div",{class:"col-9 col-md-10 d-flex align-items-center"},[(0,s.Lk)("div",{class:"text-light fw-bold"},"処理を開始してください")])])],-1),Ae=[Ce],_e={class:"col-12"},Me=(0,s.Lk)("div",{class:"text-light fw-bold d-flex align-items-center"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat-dots",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),(0,s.Lk)("path",{d:"m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"})]),(0,s.Lk)("div",{class:"ms-1"},"メッセージ")],-1),ze={class:"border border-light rounded-bottom text-light p-3"},He={class:"mb-1"},Re=(0,s.Lk)("div",{class:"text-primary"},"ステータス",-1),Ee={key:0,class:"text-bg-success rounded"},je={key:1,class:"text-bg-danger rounded"},Be=(0,s.Lk)("div",{class:"text-primary"},"Fetch API",-1),Se=["textContent"];var Ne={__name:"dashboardPage",setup(e){const t=(0,d.rd)(),a=(0,i.KR)(null),r=(0,i.KR)(!1),o=(0,i.KR)(!1),u=(0,i.KR)(null),v=(0,i.KR)(null),X=(0,i.KR)(),G=(0,i.KR)(),Y=(0,i.KR)(""),le=(0,i.KR)(null),ne=(0,i.KR)(null),Ce=(0,i.KR)(),Ne=(0,i.KR)(!1),Ve=async()=>{await fetch("http://localhost:8080/api/get_user").then((e=>e.json())).then((e=>{v.value=e}))},Oe=async()=>{const e=c.A.get("jwt_token");await fetch("http://localhost:8080/api/protected",{headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{a.value=e,"ok"===!e?.status||void 0===e?.status?t.push({name:"login"}):(r.value=!0,X.value=e.username,G.value=e.password,u.value={status:"ok",message:"ログインしました"})}))},Xe=async e=>{const t=c.A.get("jwt_token");await fetch("http://localhost:8080/api/remove",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({user_id:e})}).then((e=>e.json())).then((e=>{"ok"===e?.status?(a.value=e,u.value={status:"ok",message:"正常にユーザを削除しました"},Ve()):a.value=e}))},Te=(e,t)=>{"enter"===e?document.getElementById(t+"trash").classList.remove("d-none"):document.getElementById(t+"trash").classList.add("d-none")},Ue=async()=>{o.value=!0;const e=c.A.get("jwt_token");await fetch("http://localhost:8080/api/chaseronline/post/setting",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({CHaserOnlineServerURL:le.value,CHaserOnlineProxy:ne.value})}).then((e=>e.json())).then((e=>{a.value=e,o.value=!1,u.value="ok"===e?.status?{status:"ok",message:"正常に設定を更新しました"}:{status:"bad",message:"エラー: "+e.message},Ke()}))},Ke=async()=>{const e=c.A.get("jwt_token");await fetch("http://localhost:8080/api/chaseronline/get/setting",{headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{e?.status?(a.value=e,le.value=e.data.CHaserOnlineServerURL,ne.value=e.data.CHaserOnlineProxy):a.value=e}))},$e=async()=>{if(le.value&&X.value&&G.value&&Y.value)Pe();else{let e=document.createElement("div");e.innerHTML='\n            <div class="card card-body p-1 text-bg-dark mb-1">\n                <div class="text-danger fw-bold">Error✘</div>\n                <div class="text-light">実行情報が不足しています</div>\n            </div>\n        ',Ce.value.prepend(e),u.value={status:"bad",message:"エラー: 実行情報が不足しています"}}},Pe=async()=>{let e,t=!1;Ne.value=!0;const s=new h({url:le.value,proxy:ne.value,user:X.value,password:G.value,room:Y.value});e=document.createElement("div"),e.innerHTML='\n        <div class="card card-body p-1 text-bg-dark mb-1">\n            <div class="text-primary fw-bold">GameStart ▶</div>\n        </div>\n    ',Ce.value.prepend(e);const l=await s.connect();a.value=l,"bad"===l.status?(e=document.createElement("div"),e.innerHTML='\n            <div class="card card-body p-1 text-bg-dark mb-1">\n                <div class="text-danger fw-bold">Error✘</div>\n                <div class="text-light">ゾンビ化または実行エラー</div>\n            </div>\n        ',Ce.value.prepend(e),Ne.value=!1,u.value={status:"bad",message:"エラー: ゾンビ化または実行エラー"}):u.value={status:"ok",message:"実行中"};while(!t&&"ok"===l.status){const l=await s.getready();e=document.createElement("div"),e.innerHTML=`\n            <div class="card card-body p-1 text-bg-dark mb-1">\n                <div class="text-danger fw-bold">GetReady</div>\n                <div class="text-light">command1=${l?.command}, returnCode=[${l?.returnNumber}]</div>\n            </div>\n        `,Ce.value.prepend(e),a.value=l;const n=await s.action();e=document.createElement("div"),e.innerHTML=`\n            <div class="card card-body p-1 text-bg-dark mb-1">\n                <div class="text-success fw-bold">Action</div>\n                <div class="text-light">command2=${n?.command}, returnCode=[${n?.returnNumber}]</div>\n            </div>\n        `,Ce.value.prepend(e),a.value=n,t=await s.gameSet(),t?(e=document.createElement("div"),e.innerHTML='\n                <div class="card card-body p-1 text-bg-dark mb-1">\n                    <div class="text-primary fw-bold">GameSet ●</div>\n                </div>\n            ',Ce.value.prepend(e),u.value={status:"ok",message:"実行完了済"},Ne.value=!1):(e=document.createElement("div"),e.innerHTML='\n                <div class="card card-body p-1 text-bg-dark mb-1">\n                    <div class="text-warning fw-bold">Complete✓</div>\n                    <div class="text-light">command3=#</div>\n                </div>\n            ',Ce.value.prepend(e)),Ne.value||(e=document.createElement("div"),e.innerHTML='\n                <div class="card card-body p-1 text-bg-dark mb-1">\n                    <div class="text-danger fw-bold">強制停止</div>\n                    <div class="text-light">このユーザはしばらく使用不可になります</div>\n                </div>\n            ',Ce.value.prepend(e),u.value={status:"bad",message:"強制停止しました"},t=!0,Ne.value=!1)}};return(0,s.sV)((async()=>{document.title="Dashboard",await Oe(),await Ke(),await Ve()})),(0,s.$u)((async()=>{await Oe()})),(e,t)=>{const i=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",m,[(0,s.bF)(l.eB,null,{default:(0,s.k6)((()=>[r.value?((0,s.uX)(),(0,s.CE)("div",p,[g,(0,s.Lk)("div",b,[(0,s.Lk)("div",k,[(0,s.Lk)("div",w,[x,L,(0,s.Lk)("div",f,[(0,s.Lk)("div",y,[(0,s.Lk)("div",C,[A,(0,s.Lk)("div",_,[(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>Y.value=e),id:"inputRoom",class:"border-0 rounded-top border-bottom border-secondary py-1 text-bg-dark w-100"},null,512),[[l.Jo,Y.value]]),((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(9,(e=>(0,s.Lk)("button",{class:"btn btn-dark rounded-0 text-light col-4",key:e,onClick:t=>Y.value+=e.toString()},[(0,s.Lk)("div",null,(0,n.v_)(e),1)],8,M))),64)),((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(["#","0","C"],(e=>(0,s.Lk)("button",{class:"btn btn-dark rounded-0 text-light col-4",key:e},["0"==e?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"text-light",onClick:t=>Y.value+=e.toString()},(0,n.v_)(e),9,z)):((0,s.uX)(),(0,s.CE)("div",{key:1,class:"text-danger",onClick:t[1]||(t[1]=e=>Y.value="")},(0,n.v_)(e),1))]))),64))])]),(0,s.Lk)("div",H,[R,(0,s.Lk)("div",E,[j,(0,s.Lk)("div",B,(0,n.v_)(X.value),1)]),S,(0,s.Lk)("div",N,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(v.value,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"text-light"},[e.username!=X.value?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"d-flex align-items-center",onMouseleave:e=>Te("leave",t)},[((0,s.uX)(),(0,s.CE)("svg",{id:t+"trash",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash3 me-1 d-none text-danger",viewBox:"0 0 16 16",style:{cursor:"pointer"},onClick:t=>Xe(e.user_id)},T,8,O)),(0,s.Lk)("div",{onMouseenter:e=>Te("enter",t)},(0,n.v_)(e.username),41,U)],40,V)):(0,s.Q3)("",!0)])))),128)),v.value&&v.value[1]?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",K,"NULL"))])]),(0,s.Lk)("div",$,[P,(0,s.Lk)("div",I,[(0,s.Lk)("div",F,[((0,s.uX)(),(0,s.CE)("svg",Z,J)),D]),Q,Ne.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("div",{onClick:t[2]||(t[2]=e=>$e())},[((0,s.uX)(),(0,s.CE)("svg",q,ee))]),te])),Ne.value?((0,s.uX)(),(0,s.CE)("div",ae,[(0,s.Lk)("div",{onClick:t[3]||(t[3]=e=>{Ne.value=!1,Y.value=null})},[((0,s.uX)(),(0,s.CE)("svg",se,re)),oe])])):(0,s.Q3)("",!0),(0,s.Lk)("div",ie,[(0,s.bF)(i,{class:"text-light",to:{name:"login"}},{default:(0,s.k6)((()=>[de])),_:1}),ce])])])]),(0,s.Lk)("div",ue,[(0,s.Lk)("div",ve,[(0,s.Lk)("div",he,[me,pe,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>le.value=e),id:"inputServerURL",class:"form-control text-bg-dark border-0 p-1 px-2 mb-1"},null,512),[[l.Jo,le.value]]),ge,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>ne.value=e),id:"inputProxy",class:"form-control text-bg-dark border-0 p-1 px-2 mb-3"},null,512),[[l.Jo,ne.value]]),(0,s.Lk)("div",be,[o.value?((0,s.uX)(),(0,s.CE)("button",ke,[we,(0,s.eW)(" 送信中 ")])):((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn btn-success p-1",onClick:t[6]||(t[6]=e=>Ue())},"保存"))])])])])])]),(0,s.Lk)("div",xe,[(0,s.Lk)("div",Le,[(0,s.Lk)("div",fe,[ye,(0,s.Lk)("div",{ref_key:"RunCommandHistory",ref:Ce,class:"border border-light rounded-bottom text-light p-3 overflow-auto",style:{height:"400px"}},Ae,512)]),(0,s.Lk)("div",_e,[Me,(0,s.Lk)("div",ze,[(0,s.Lk)("div",He,[Re,"ok"===u.value?.status?((0,s.uX)(),(0,s.CE)("div",Ee,"> "+(0,n.v_)(u.value?.message),1)):"bad"===u.value?.status?((0,s.uX)(),(0,s.CE)("div",je,"> "+(0,n.v_)(u.value?.message||a.value?.msg),1)):(0,s.Q3)("",!0)]),Be,(0,s.Lk)("div",{textContent:(0,n.v_)(a.value)},null,8,Se)])])])])])])])):(0,s.Q3)("",!0)])),_:1})])}}};const Ve=Ne;var Oe=Ve},8704:function(e,t,a){
/*! js-cookie v3.0.5 | MIT */
function s(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)e[s]=a[s]}return e}a.d(t,{A:function(){return r}});var l={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function n(e,t){function a(a,l,n){if("undefined"!==typeof document){n=s({},t,n),"number"===typeof n.expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var o in n)n[o]&&(r+="; "+o,!0!==n[o]&&(r+="="+n[o].split(";")[0]));return document.cookie=a+"="+e.write(l,a)+r}}function l(t){if("undefined"!==typeof document&&(!arguments.length||t)){for(var a=document.cookie?document.cookie.split("; "):[],s={},l=0;l<a.length;l++){var n=a[l].split("="),r=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(s[o]=e.read(r,o),t===o)break}catch(i){}}return t?s[t]:s}}return Object.create({set:a,get:l,remove:function(e,t){a(e,"",s({},t,{expires:-1}))},withAttributes:function(e){return n(this.converter,s({},this.attributes,e))},withConverter:function(e){return n(s({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var r=n(l,{path:"/"})}}]);
//# sourceMappingURL=750.27647675.js.map